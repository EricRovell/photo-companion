## История изменений

### 2.25.1

- Исправлена проблема с пропавшим разделителем на пончиковой диаграмме (чаще используется при отображении времён восхода и захода Луны);

### 2.25.0

- Убраны быстрые действия в режиме установленного веб приложения;
- Файлы приложения грузятся в фоновом режиме при изначальном запуске приложения полной функциональности веб приложения в отсутствии сети интернет (раньше файлф подгружались лениво, при навигации);
- Исправлена проблема, из-за которой не очищался кэш для старых версий приложения после очередного обновления;

### 2.24.0

- Переводы подгружаются при необходимости;

### 2.23.0

- Улучшено СЕО веб-приложения;
- Заголовок страницы обновляется при переходе по разделам;
- Исправлена проблема с неконсистентным языковым атрибутом;

### 2.22.2

- Исправлена загрузка домашней страницы. Вне зависимости от выбора пользователя грузилась страница "События". Иногда это даже приводило к падению приложения;
- Исправлено отображение индикатора фокуса на элементах навигации;
- Исправлена проблема с отображением индикатора загрузки из-за поломанных стилей;

### 2.22.1

- Исправлена проблема с мерцанием при анимации на "пончиковой" диаграмме на некоторых мобильных устройствах;
- Исправлена проблема с видимой границей при свечении на "пончиковой" диаграмме на некоторых мобильных устройствах;
- Убрано системное подсвечивание при нажатии на интерактивные элементы на мобильных устройствах;
- Страницы "История изменений" и "Справка" грузят контент на выбранном языке (не всё сразу);
- При загрузке динамического контента показывается индикатор загрузки;
- Небольшие визуальные улучшения взаимодействия с элементами форм;

### 2.22.0

- Добавлена страница 404;
- Переработана навигация. На широком экране отображались не все элементы навигации, хотя места для этого имеется. Теперь пользователь не ограничен максимальным количеством активных вкладок. На мобильной версии всегда будут отображаться до 4 первых выбранных вкладок. Все доступные разделы и ссылки всегда доступны во вкладке "Меню";
- Лента событий теперь выглядит более симметричной на всё еще широких, но не слишком узких экранах;
- Полосы прокрутки для устройств с широким экраном имеют более приятную стилизацию;
- Исправлено сообщение об состоянии навигации и отображением неверного отсчёта времена до окончания периода навигации;
- Во время полнолуния отображается имя полнолуния;
- Исправлена проблема, из-за которой отображались Солнечные события, которые должны отсутствовать в определённых местах в определённое время. К примеру, во время белых ночей;
- Таймер отсчёта времени до следующего переключения городской подсветки ведёт отсчёт от выбранных даты-времени (ранее отсчёт вёлся от текущих даты-времени);
- Теперь раздел разводных мостов г.Санкт-Петербург так же управляется формой выбора даты-времени, как и другие разделы. Информация и состояние мостов указывается в выбранные дату-время, что позволяет с большим удобством планировать те или иные действия, зависящие от развода мостов;
- Обновлена боковая панель с дополнительной информацией в разделе разводных мостов г.Санкт-Петербург. Дополнительно там отображена информация о мостах, разведённых и сведённых в указанный момент времени;
- Новый раздел "Сейчас", где воедино собрана и отображена основная информация из остальных разделов;
- Убрана опция для дополнительного контроля отображения вкладки разводных мостов г.Санкт-Петербурга. Для большинства пользователей данная опция чаще всего оставалась непонятной. Другая причина в том, что теперь данный раздел приложения поддерживает ввод произвольных даты-времени, период навигации учитывается автоматически. Дополнительно, данные о состоянии навигации отображены на боковой панели;
- Переработаны настройки, теперь большая часть параметров подвязана к выбранному городу;

### 2.21.1

- Исправлена надпись раздела при выборе языка;
- Исправлено неверное отображение таймера и времени (использовался 24-часовой цикл);

### 2.21.0

- Поддержка английского языка;

### 2.20.2

- Исправлено неверное отображение информации о длительности события (отсчёт и длительность подсветки, лунный и солнечный дни);
- Исправлен неверный порядок ближайших лунных фаз;
- Оптимизированы расчёты Луны, часто рассчитывались фазы там, где они не нужны;
- Переработан расчёт надира. Теперь он рассчитывается в зависимости от того, попадает ли он в рассматриваемые сутки;

### 2.20.1

- Из анимации при переходах с жестами исключены элементы, не меняющиеся на странице;
- Добавлена анимация появления формы ввода даты-времени между разделами, где она присутствует/отсутствует;

### 2.20.0

- Обновлена анимация при переходах с использованием жестов. Теперь учитывается направление перехода. Важно, анимации доступны только в браузерах Chrome от версии 111 (122 на Android);

### 2.19.0

Важно: сохранённые настройки с этим обновлением будут сброшены.

- Добавлен раздел настроек "Разделы приложения", позволяющий выбирать доступные разделы в основной панели навигации и их порядок;
- В разделе настроек "Разводные мосты г.Санкт-Петербурга" осталась единственная опция, контролирующая появление в панели навигации соответствующего раздела лишь в то время, когда мосты действительно разводятся;
- В раздел настроек "Городское освещение" убрана опция "отключить". Для этого теперь необходимо деактивировать вкладку в "Разделы приложения";
- Изменён порядок настроек на более релевантный;
- Решена проблема с неверным отображением дополнительных данных о Луне в ленте событий (восход и заход отображали идентичные показатели);

### 2.18.0

- Переработан вид навигационной панели для широкого и узкого экранов;
- Решена проблема с падением приложения из-за отключения вкладки городского освещения;
- При навигации с использованием жестов страница прокручивается вверх;

### 2.17.1

- Исправлена проблема с переносом текста в карточках с дополнительной информацией;
- Исправлен размер ссылок в футере страницы на экранах малой ширины;

### 2.17.0

- В раздел "Освещение" добавлена карточка с дополнительной информацией;
- В разделе "Освещение" таймер отсчёта времени следующего включения/отключения перенесён в карточку с дополнительной информацией;
- В разделе "Солнце" добавлена карточка с дополнительной информацией;
- В разделе "Солнце" добавлена информация о временных промежутках Золотого и Синего часов, начала и конца наступления ночи;
- В разделе "Луна" добавлена карточка с дополнительной информацией;
- Решена проблема отображения указателя на диаграмме высот в браузере Safari;

### 2.16.0

- В раздел "Солнце" добавлена диаграмма "Высота Солнца", отображающая текущую высоту Солнца над горизонтом и общий путь за рассматриваемые сутки;
- В раздел "Луна" добавлена диаграмма "Высота Луны", отображающая текущую высоту Солнца над горизонтом и общий путь за рассматриваемые сутки. Дополнительно на этой же диаграмме отображена информация о Солнце;
- Размер "круговой" диаграммы восхода и захода эфемерид немного уменьшена в размерах;
- Переработано поведение автопрокрутки страницы. Теперь прокручивается к началу страницы только при переходах между разделами и при изменении даты-времени в разделе "События";

### 2.15.0

- Добавлена информация об азимуте Солнца для всех видов событий заката и восхода;
- Добавлена информация об азимуте Луны для событий восхода и захода;

### 2.14.2

- Длительность перехода при использовании жестов увеличена;
- Уменьшен порог расстояния срабатывания жестов навигации;
- Исправлен перенос дополнительной информации под диаграммой на небольших экранах;
- Обновлено отображение шрифта времени на диаграмме;

### 2.14.1

- Решена проблема с неверным отображением города городской подсветки;
- Решена проблема со скачком страницы при переходе по ссылкам навигации;

### 2.14.0

- Добавлена возможность перемещаться по основным вкладкам посредством жестов "влево" и "вправо";

### 2.13.0

- Добавлен индикатор текущего времени на на круговых диаграммах в разделах "Солнце", "Луна" и "Освещение". Индикатор видим только тогда, когда индикатор рассматриваемого времени не совпадает с текущим временем.

### 2.12.0

- Добавлен индикатор рассматриваемого времени на круговых диаграммах в разделах "Солнце", "Луна" и "Освещение";

### 2.11.1

- Исправлена ошибка, из-за которой данные геопозиции не приходили с устройства. Поле ввода не поддерживало числа с большим количеством разрядов, чем 6. Предел увеличен;
- "Чёрный список событий" был переименован в "Фильтры событий", так как для пользователей "белый список" воспринимается проще;

### 2.11.0

- Обновлены данные и сопутствующие ссылки на расписание городского освещения для г.Санкт-Петербург за 2024 год;
- Добавлен новый раздел с пользовательскими настройками. Больше информации на [тут](/about);
- Добавлены события с разводными мостами г.Санкт-Петербург;
- Добавлено актуальное расписание городского освещения для г.Москвы за 2024 год;

### 2.10.0

- Новая вкладка — "Разводные мосты" г.Санкт-Петербурга. На этой вкладке отображены действующие разводные мосты с общим расписанием, время самого актуального события и статус Навигации.

### 2.9.2 - 2.9.5

- Решена проблема с размером панели навигации на мобильных устройствах Apple;

### 2.9.1

- Изменён контраст активных навигационных ссылок на рекомендуемый;
- Ускорена загрузка приложения за счёт предварительной загрузки вариативного шрифта;
- Ссылки событий временной шкалы имеют смысловые заголовки;

### 2.9.0

- Добавлен визуальный индикатор для событий временной шкалы, указывающий на совпадение рассматриваемого времени со временем свершения события;
- События временных шкал теперь являются ссылками на соответствующую дату и время. События общей временной шкалы ссылаются на соответствующие событиям страницы, на остальных страницах события переводят время. Благодаря всему этому ссылками можно делиться;
- При загрузке приложения запрашиваются геопозиционные данные, которые будут использоваться для отображения данных вкладок временной шкалы, Луны и Солнца. В случае, если пользователь отказываются предоставить данные, используется локация - г. Санкт-Петербург. Широта и долгота хранятся в адресной строке в виде **lat=число&lon=число**, что позволяет создавать ссылки с предопределённой геопозицией (в таком случае данные не запрашиваются);

### 2.8.1

- Обновлена семантика расчётной информации в карточках;
- Решена проблема со съезжающим текстом дополнительной информации в карточках на устройствах с малой шириной экрана;

### 2.8.0

- Во вкладку **Освещение** добавлена информация о длительности подсветки за рассматриваемые сутки;
- Во временной шкале некоторые события могут быть помечены как вторичные. У таких событий отсутствует дополнительная информация, так как эти события важны самим фактом происшествия или взаимосвязью с другими;
- Во вкладку **Освещение** добавлена добавлена временная шкала с временем переключения подсветки за рассматриваемые сутки, захода и восхода Солнца (вторичные события), так как данные событий часто используются совместно;
- Во вкладку **Солнце** добавлена информация о длительности Солнечного дня за рассматриваемые сутки;
- Во вкладку **Солнце** добавлена временная шкала с Солнечными событиями;
- Во вкладку **Луна** добавлена временная шкала с временем захода и восхода Луны и Солнца (вторичные события);

### 2.7.0

- Добавлена страница истории версий;
- Решена проблема с неверным отображением данных захода и восхода Луны в те дни, когда Луна либо только восходит из-за горизонта, либо только заходит за горизонт;
- Отображение Луны учитывает зенитный угол (поворот освещённой части углы относительно наблюдателя) как во основной вкладке Луны, так и при отображении события на временной шкале;
- Добавлено отображение названия Лунной фазы и процентного отношения освещённости Лунной поверхности;

### 2.6.0

- При появлении новой версии пользователь будет получать уведомление, с помощью которого сможет установить его. В случае необходимости пользователь может закрыть уведомление и продолжать работать. В таком случае обновление установится лишь после перезагрузки или закрытия всех вкладок;

### 2.5.0

- Переработан общий интерфейс основных функциональных вкладок. Теперь их объединяет единое поле ввода даты. Дату можно вводить вместе со временем, что зачастую важно для Луны или Временной шкалы;
- Временная шкала больше не отображает лишь события на ближайшие дни, ввод даты позволяет отобразить данные от любых заданных даты и времени;
- Дата и время синхронизируются в адресной строке, что позволяет делиться данными вкладок;
- Решена проблема с неработающими ссылками на отдельные вкладки (например, не работали быстрые действия PWA);
- Более удобное и правильное отображение информации для пользователя в случае неверных даты и времени;

### 2.4.0

- События солнечного времени добавлены на временную шкалу;
- Добавлена дополнительная информация к событиям на временной шкале;
- Для отображения Лунных событий на временной шкале используется её визуальное отображение;

### 2.3.0

- Обновлённая разметка для мобильных устройств;
- Обновлённая разметка для устройств с широким экраном;
- Добавлены быстрые действия для PWA (поддерживается не везде, есть поддержка у устройств Windows & Android Chrome);
- Для переходов используется теперь адресная строка (важно для планируемого функционала);

### 2.2.1

- Поправлены кнопки переключения дат временной диаграммы;
- Решена проблема падения приложения при вводе неверной даты;

### 2.2.0

- Решена проблема с излишними вычислениями данных Луны в связи с неправильным использованием анимации;
- Добавлены анимационные переходы диаграмм времени;
- Добавлен календарь фаз Луны;

### 2.1.1

- Добавлены анимационные переходы фаз Луны;
- Решена проблема с обрезкой краёв Луны;

### 2.1.0

- Вкладка "Эфемериды" разбита на раздельные вкладки: "Солнце" и "Луна" соответственно;
- Луна отображается внутри диаграммы времени суток;
- Солнце отображается внутри диаграммы времени суток;

### 2.0.0

Приложение переименовано в "Photo Companion", существенно расширен функционал и круг решаемых задач. Теперь приложение не ограничивается отображением данных о городской подсветке в г.Санкт-Петербург. Целью ставится отображение как можно большего количества данных, необходимых фотографу. В первую очередь делается упор на возможность работы без сети интернет и использование большего количества возможностей, предоставляемых PWA.

### 1.0.0

Первый публичный релиз приложения.
